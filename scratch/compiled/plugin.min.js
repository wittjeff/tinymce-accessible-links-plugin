!function(){"use strict";tinymce.PluginManager.add("a11y-links",function(m,e){m.ui.registry.addButton("a11y-links",{icon:"link",tooltip:"Accessible Links",onAction:function(){function i(){0<l.length&&(l.forEach(function(e){m.dom.setAttrib(e,"data-mce-selected",null)}),m.dom.setAttrib(l[p],"data-mce-selected","inline-boundary"),c.setData({linkHtml:m.serializer.serialize(l[p]),isFirstLink:0===p,isLastLink:p===l.length-1,noSymbol:!0,downArrow:!1,topPage:!1,neArrow:!1,rightArrow:!1,overlappingSquares:!1,srTextExternal:!1,srText:"none"}))}var l=m.dom.select("a"),p=0,c=m.windowManager.open({title:"Link Accessibility Options",size:"large",body:{type:"panel",items:[{type:"htmlpanel",html:'<p style="font-family: Courier Sans;">[Link HTML]</p>'},{type:"htmlpanel",html:"<label>Symbol</label>"},{type:"panel",items:[{type:"checkbox",name:"noSymbol",label:"No symbol"},{type:"checkbox",name:"downArrow",label:"Down arrow symbol"},{type:"checkbox",name:"topPage",label:"Top of page symbol"},{type:"checkbox",name:"neArrow",label:"NE pointing arrow"},{type:"checkbox",name:"rightArrow",label:"Right-pointing arrow"},{type:"checkbox",name:"overlappingSquares",label:"Overlapping squares"}]},{type:"checkbox",name:"srTextExternal",label:" external site"},{type:"listbox",name:"srText",label:"Screen-reader text",items:[{text:"None",value:"none"},{text:" opens in a new tab",value:"new-tab"},{text:" scrolls down this page",value:"scroll-down"},{text:" returns to top of page",value:"top-page"}]}]},initialData:{linkHtml:0<l.length?m.serializer.serialize(l[0]):"",isFirstLink:!0,isLastLink:l.length<=1,noSymbol:!0,downArrow:!1,topPage:!1,neArrow:!1,rightArrow:!1,overlappingSquares:!1,srTextExternal:!1,srText:"none"},buttons:[{type:"custom",name:"prev",text:"Previous",enabled:0<p,primary:!1},{type:"custom",name:"next",text:"Next",enabled:p<l.length-1,primary:!1},{type:"custom",name:"update",text:"Update as selected",primary:!0},{type:"custom",name:"removeTarget",text:"Remove target=_blank",primary:!1},{type:"custom",name:"insertTarget",text:"Insert target=_blank",primary:!1},{type:"custom",name:"skip",text:"Skip",primary:!1},{type:"custom",name:"done",text:"Done",primary:!1}],onChange:function(n,a){a.name.startsWith("symbol")&&["noSymbol","downArrow","topPage","neArrow","rightArrow","overlappingSquares"].forEach(function(e){var t;e!==a.name&&n.setData(((t={})[e]=!1,t))})},onAction:function(e,t){var n=c.getData(),a=l[p];switch(t.name){case"prev":0<p&&(p--,i());break;case"next":p<l.length-1&&(p++,i());break;case"update":m.dom.select("span.sr-only",a).forEach(function(e){return m.dom.remove(e)});m.dom.select('span[aria-hidden="true"]',a).forEach(function(e){return m.dom.remove(e)});var r=a.innerHTML,o="",s=(n.srTextExternal&&!r.includes('sr-only"> external site')&&(o+='<span class="sr-only"> external site</span>'),"none"!==n.srText&&(s={"new-tab":" opens in a new tab","scroll-down":" scrolls down this page","top-page":" returns to top of page"}[n.srText],r.includes('sr-only">'.concat(s))||(o+='<span class="sr-only">'.concat(s,"</span>"))),{noSymbol:"",downArrow:'<span class="down-arrow" aria-hidden="true">&darr;</span>',topPage:'<span class="top-page" aria-hidden="true">&mapstoup;</span>',neArrow:'<span class="ne-arrow" aria-hidden="true">&nearr;</span>',rightArrow:'<span class="right-arrow" aria-hidden="true">&#x1f517;</span>',overlappingSquares:'<span class="overlapping-squares" aria-hidden="true">&#x1F5D7;</span>'}[["noSymbol","downArrow","topPage","neArrow","rightArrow","overlappingSquares"].find(function(e){return n[e]})||"noSymbol"]);r+="".concat(o).concat(s),m.dom.setHTML(a,r);break;case"removeTarget":m.dom.setAttrib(a,"target",null);break;case"insertTarget":m.dom.setAttrib(a,"target","_blank"),m.dom.setAttrib(a,"rel","noopener noreferrer");break;case"skip":p<l.length-1&&(p++,i());break;case"done":e.close()}}});i()}})})}();